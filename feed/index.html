<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bump Feed Page</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="/src/scss/styles.css" media="all" />
    <script
      src="https://kit.fontawesome.com/053b40ce4e.js"
      crossorigin="anonymous"
    ></script>
    <script src="/scripts/script.js"></script>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg navbar-light bg-secondary">
        <div class="container-fluid">
          <img
            class="navbar-brand logo"
            src="/assets/images/bump-logo-v2.png"
            alt="logo"
          />
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item navigation-text">
                <a class="nav-link text-warning" href="/feed">Feed</a>
              </li>
              <li class="nav-item navigation-text">
                <a class="nav-link text-warning" href="/profile">Profile</a>
              </li>
              <li class="nav-item dropdown navigation-text navigation-sort">
                <a
                  class="nav-link dropdown-toggle text-warning"
                  href="#"
                  id="navbarDropdownMenuLink"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Sort
                </a>
                <ul
                  class="dropdown-menu"
                  aria-labelledby="navbarDropdownMenuLink"
                >
                  <li><a class="dropdown-item" href="#">Newest First</a></li>
                  <li><a class="dropdown-item" href="#">Oldest First</a></li>
                </ul>
              </li>
            </ul>
            <button
              class="btn btn-warning"
              data-bs-toggle="modal"
              data-bs-target="#createPostModal"
            >
              Create New Post
            </button>
            <form class="d-flex ms-2" id="searchForm">
              <input
                class="form-control me-2"
                type="search"
                placeholder="Search posts"
                aria-label="Search"
                id="searchInput"
              />
              <button class="btn btn-outline-success" type="submit">
                Search
              </button>
            </form>
          </div>
        </div>
      </nav>
    </header>
    <div class="filter-container">
      <button
        class="btn btn-primary filter-button"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#filterCollapse"
        aria-expanded="false"
        aria-controls="filterCollapse"
      >
        Filter
      </button>
    </div>

    <div class="collapse filter-options" id="filterCollapse">
      <div class="filter-options-content">
        <div class="mb-3">
          <label for="reactionsFilter" class="form-label"
            >Filter by Reactions:</label
          >
          <select class="form-select" id="reactionsFilter">
            <option value="">All Reactions</option>
            <option value="1">1+</option>
            <option value="5">5+</option>
            <option value="10">10+</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="commentsFilter" class="form-label"
            >Filter by Comments:</label
          >
          <select class="form-select" id="commentsFilter">
            <option value="">All Comments</option>
            <option value="1">1+</option>
            <option value="5">5+</option>
            <option value="10">10+</option>
          </select>
        </div>
      </div>
    </div>
    <div class="container mt-4">
      <div class="row" id="postsContainer">
        <!-- Post Card Template -->
        <template id="postTemplate">
          <div class="col-md-4">
            <div class="card mb-4 post-card post">
              <img class="card-img-top" alt="Post Image" />
              <div class="card-body">
                <h5 class="card-title"></h5>
                <p class="card-text"></p>
                <p class="card-text">
                  <small class="text-muted post-meta"></small>
                </p>
                <button type="button" class="btn btn-primary read-more-btn">
                  Read More
                </button>
              </div>
              <div class="card-footer post-footer">
                <span class="comments-count post-meta"></span> |
                <span class="reactions-count post-meta"></span>
              </div>
            </div>
          </div>
        </template>
      </div>
    </div>

    <!-- Modal Template -->
    <div
      class="modal fade"
      id="postModal"
      tabindex="-1"
      aria-labelledby="postModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content modal-content-custom">
          <div class="modal-header">
            <h5 class="modal-title" id="postModalLabel"></h5>
            <button
              type="button"
              class="btn-close button-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <img id="postModalImage" class="img-fluid mb-3" alt="Post Image" />
            <p id="postModalBody"></p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary button-close"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button
              type="button"
              class="btn btn-secondary update-open-btn"
              id="updatePostButton"
            >
              Update
            </button>
            <button class="btn btn-danger delete-post-btn" data-post-id="">
              Delete
            </button>
          </div>
        </div>
      </div>
    </div>
    <!--Update-->
    <div
      class="modal fade"
      id="updatePostModal"
      tabindex="-1"
      aria-labelledby="updatePostModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="updatePostModalLabel">Update Post</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="updatePostForm">
              <input type="hidden" id="updatePostId" name="postId" value="" />
              <div class="mb-3">
                <label for="updatePostTitle" class="form-label">Title</label>
                <input
                  type="text"
                  class="form-control"
                  id="updatePostTitle"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="updatePostBody" class="form-label">Body</label>
                <textarea
                  class="form-control"
                  id="updatePostBody"
                  rows="3"
                  required
                ></textarea>
              </div>
              <div class="mb-3">
                <label for="updatePostMedia" class="form-label"
                  >Media URL</label
                >
                <input type="text" class="form-control" id="updatePostMedia" />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button type="submit" form="updatePostForm" class="btn btn-primary">
              Update
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Create New Post -->
    <div
      class="modal fade"
      id="createPostModal"
      tabindex="-1"
      aria-labelledby="createPostModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content modal-content-custom">
          <div class="modal-header">
            <h5 class="modal-title" id="createPostModalLabel">
              Create New Post
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="postTitle" class="form-label">Title</label>
                <input type="text" class="form-control" id="postTitle" />
              </div>
              <div class="mb-3">
                <label for="postContent" class="form-label">Content</label>
                <textarea
                  class="form-control"
                  id="postContent"
                  rows="3"
                ></textarea>
              </div>
              <div class="mb-3">
                <label for="postImage" class="form-label"
                  >Image URL (optional)</label
                >
                <input type="url" class="form-control" id="postImage" />
              </div>
              <button type="submit" class="btn btn-primary create-post-btn">
                Post
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <footer class="text-center text-lg-start bg-secondary text-muted">
      <section
        class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom border-warning"
      >
        <div class="me-5 d-none d-lg-block text-warning">
          <span>Connect with us on social media:</span>
        </div>

        <div>
          <a href="https://www.facebook.com/" class="me-4 text-reset">
            <i class="fab fa-facebook"></i>
          </a>
          <a href="" class="me-4 text-reset">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="" class="me-4 text-reset">
            <i class="fab fa-google"></i>
          </a>
          <a href="" class="me-4 text-reset">
            <i class="fab fa-instagram"></i>
          </a>
        </div>
      </section>

      <section>
        <div class="container text-center text-md-start mt-5">
          <div class="row mt-3">
            <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
              <h6 class="text-uppercase fw-bold mb-4 text-warning">
                <i class="fas fa-gem me-3"></i>Social Website
              </h6>
              <p class="text-warning">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo
                dicta numquam nesciunt cumque facere iusto suscipit nulla.
                Aliquam, fuga provident. Non excepturi asperiores minus
                temporibus earum architecto explicabo dolor recusandae?
              </p>
            </div>

            <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
              <h6 class="text-uppercase fw-bold mb-4 text-warning">
                Placeholder
              </h6>
            </div>
          </div>
        </div>
      </section>

      <div id="trademark-text" class="text-center p-4 text-warning">
        <a
          class="link-warning"
          href="https://www.flaticon.com/free-icons/type"
          title="type icons"
          >Type icons created by xnimrodx - Flaticon</a
        >
        © 2024 Social Website, Inc
      </div>
    </footer>

    <script type="module" src="/src/js/api/posts/index.mjs"></script>
  </body>
</html>
